#include <Wire.h>
#include <RTClib.h>
#include <DHT.h>


#define DHTPIN 2         
#define DHTTYPE DHT11    
#define WATER_PIN A0     
RTC_DS3231 rtc;
DHT dht(DHTPIN, DHTTYPE);

void setup() {
  Serial.begin(9600);

  
  dht.begin();

  
  if (!rtc.begin()) {
    Serial.println("RTC TIDAK TERDETEKSI!");
    while (1);
  }

  
  rtc.adjust(DateTime(2025, 12, 5, 16, 0, 0));
  
  Serial.println("Sistem Siap...");
}

void loop() {
  
  DateTime now = rtc.now();

  
  float suhu = dht.readTemperature();
  float lembab = dht.readHumidity();

  
  int waterValue = analogRead(WATER_PIN);

  
  Serial.print("Tanggal: ");
  Serial.print(now.day()); Serial.print("/");
  Serial.print(now.month()); Serial.print("/");
  Serial.print(now.year());
  Serial.print("  ");

  Serial.print("Jam: ");
  Serial.print(now.hour()); Serial.print(":");
  Serial.print(now.minute()); Serial.print(":");
  Serial.println(now.second());

  Serial.print("Suhu: "); 
  Serial.print(suhu);
  Serial.println(" C");

  Serial.print("Kelembapan: ");
  Serial.print(lembab);
  Serial.println(" %");

  Serial.print("Water Sensor: ");
  Serial.println(waterValue);

  Serial.println("---------------------------");

  delay(500);
}
