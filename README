# Automatic Clothes Dryer and Microcontroller-Based Weather Forecast

**Nama** : Muhammad Sholihin
**NIM** : 2306030069

---

## 1. Latar Belakang

Perkembangan *Internet of Things* (IoT) telah mendorong otomasi rumah menjadi lebih terjangkau dan efektif. Menurut Zanella et al. (2014), IoT memungkinkan integrasi berbagai sensor untuk membangun sistem cerdas yang mampu meningkatkan kualitas hidup.

Di Indonesia, data BMKG (2023) menunjukkan curah hujan yang relatif tinggi, yang berpotensi merusak perabotan rumah tangga di area terbuka seperti teras. Penelitian oleh Sari et al. (2021) membuktikan bahwa kelembaban di atas 80% dapat mempercepat kerusakan material kayu hingga 40%.

Sebagian besar sistem otomasi konvensional masih memiliki keterbatasan. Studi Gupta & Kumar (2022) menunjukkan bahwa banyak sistem hanya mengandalkan satu sensor sehingga kurang responsif terhadap perubahan lingkungan. Di sisi lain, laporan MarketsandMarkets (2023) menunjukkan harga sensor IoT semakin terjangkau dengan tingkat akurasi yang terus meningkat.

Platform IoT seperti **Blynk** (Chen et al., 2020) mampu mengurangi biaya pengembangan hingga 60%. Kementerian Kominfo (2022) juga melaporkan pertumbuhan *smart home* di Indonesia mencapai 25% per tahun, namun masih diperlukan solusi yang ekonomis dan mudah diimplementasikan.

Berdasarkan kondisi tersebut, proyek ini mengembangkan sistem **Automatic Clothes Dryer berbasis ESP32** dengan multi-sensor dan integrasi Blynk untuk pemantauan jarak jauh.

---

## 2. Rumusan Masalah

1. Bagaimana merancang sistem yang dapat mendeteksi kondisi lingkungan (hujan, kelembaban, dan cahaya) secara otomatis?
2. Bagaimana sistem merespons kondisi lingkungan dengan mengendalikan motor servo?
3. Bagaimana mengintegrasikan seluruh sensor dan aktuator agar bekerja secara terpadu?
4. Bagaimana melakukan monitoring dan kontrol sistem melalui platform IoT (Blynk)?

---

## 3. Tujuan

1. Menguji kinerja sensor DHT11, LDR, Water Sensor, dan RTC.
2. Menguji respons output (LED, buzzer, servo, dan LCD) terhadap input sensor.
3. Menguji integrasi seluruh komponen dalam satu sistem.
4. Mengintegrasikan sistem dengan platform Blynk untuk monitoring dan kontrol jarak jauh.

---

## 4. Alat dan Bahan

### Hardware

1. ESP32 – Mikrokontroler utama dengan WiFi dan Bluetooth
2. Sensor DHT11 – Pengukur suhu dan kelembaban
3. Water Sensor – Pendeteksi air/hujan
4. LDR (Light Dependent Resistor) – Sensor intensitas cahaya
5. RTC DS3231 – Modul waktu dan tanggal
6. Servo Motor SG90 – Penggerak mekanik kanopi
7. LCD I2C 16x2 – Media tampilan informasi
8. LED Merah & Hijau – Indikator status sistem
9. Buzzer aktif – Alarm peringatan
10. Push Button – Kontrol manual servo

### Software

* Arduino IDE
* Library: `Wire.h`, `RTClib.h`, `DHT.h`, `LiquidCrystal_I2C.h`, `Servo.h`, `Blynk.h`
* Platform Blynk Cloud

---

## 5. Pengujian Komponen

Bagian ini menjelaskan langkah-langkah pengujian setiap komponen secara terpisah sebelum diintegrasikan ke dalam sistem. Setiap pengujian dilakukan untuk memastikan komponen bekerja sesuai spesifikasi dan layak digunakan pada tahap integrasi.

### 5.1 Pengujian Sensor DHT11

**Tujuan Pengujian:**
Pengujian ini bertujuan untuk memastikan sensor DHT11 mampu membaca nilai suhu dan kelembaban dengan baik serta menampilkan data secara real-time melalui Serial Monitor.

**Langkah-langkah Pengujian:**

1. Hubungkan pin data DHT11 ke pin GPIO 2 ESP32.
2. Hubungkan pin VCC ke 3.3V dan GND ke ground.
3. Upload program pengujian ke ESP32.
4. Buka Serial Monitor dan amati nilai suhu serta kelembaban.
5. Lakukan simulasi kelembaban tinggi dengan mendekatkan benda lembab ke sensor.

**Tujuan:** Menguji akurasi pembacaan suhu dan kelembaban.

```cpp
#include "DHT.h"
#define DHTPIN 2
#define DHTTYPE DHT11
DHT dht(DHTPIN, DHTTYPE);

void setup() {
  Serial.begin(9600);
  dht.begin();
}

void loop() {
  float h = dht.readHumidity();
  float t = dht.readTemperature();
  Serial.print("Humidity: "); Serial.print(h);
  Serial.print(" %  Temperature: "); Serial.print(t);
  Serial.println(" C");
  delay(1000);
}
```

**Hasil Pengujian:**

| Suhu Referensi | Suhu DHT11 | Selisih | Status    |
| -------------- | ---------- | ------- | --------- |
| 25°C           | 24.2°C     | ±0.8°C  | Baik      |
| 22°C           | 23.0°C     | ±1.0°C  | Baik      |
| RH ≥ 85%       | Terdeteksi | -       | Responsif |

---

### 5.2 Pengujian Sensor Cahaya (LDR)

**Tujuan Pengujian:**
Mengetahui kemampuan sensor LDR dalam mendeteksi perubahan intensitas cahaya dan mengonversinya menjadi nilai analog.

**Langkah-langkah Pengujian:**

1. Hubungkan LDR ke pin analog A0 ESP32.
2. Upload kode pengujian ke mikrokontroler.
3. Amati nilai analog pada Serial Monitor.
4. Ubah kondisi cahaya (terang, redup, dan gelap) untuk melihat perubahan nilai.

```cpp
int ldrPin = A0;
void setup() {
  Serial.begin(9600);
}
void loop() {
  int nilai = analogRead(ldrPin);
  Serial.println(nilai);
  delay(500);
}
```

| Kondisi | Nilai Analog | Kategori |
| ------- | ------------ | -------- |
| Gelap   | 0–400        | Gelap    |
| Mendung | 401–2000     | Mendung  |
| Terang  | 2001–4095    | Cerah    |

---

### 5.3 Pengujian Water Sensor

**Tujuan Pengujian:**
Pengujian ini dilakukan untuk memastikan water sensor mampu mendeteksi keberadaan air sebagai indikator hujan.

**Langkah-langkah Pengujian:**

1. Hubungkan water sensor ke pin analog A0 ESP32.
2. Upload program pengujian.
3. Amati nilai sensor dalam kondisi kering.
4. Teteskan atau semprotkan air ke sensor dan amati perubahan nilai.

```cpp
int waterPin = A0;
void setup() { Serial.begin(9600); }
void loop() {
  int value = analogRead(waterPin);
  if (value < 160) Serial.println("ADA AIR");
  else Serial.println("TIDAK ADA AIR");
  delay(500);
}
```

| Kondisi | Nilai | Status     |
| ------- | ----- | ---------- |
| Kering  | <160  | Terdeteksi |
| Basah   | ≥160  | Terdeteksi |

---

### 5.4 Pengujian RTC DS3231

**Tujuan Pengujian:**
Mengetahui tingkat akurasi modul RTC DS3231 dalam menyimpan dan menampilkan waktu secara real-time.

**Langkah-langkah Pengujian:**

1. Hubungkan RTC ke ESP32 menggunakan jalur I2C (SDA dan SCL).
2. Set waktu awal sesuai waktu komputer.
3. Upload program pengujian.
4. Bandingkan waktu yang ditampilkan dengan waktu aktual.

```cpp
#include <Wire.h>
#include <RTClib.h>
RTC_DS3231 rtc;
void setup() {
  Serial.begin(9600);
  rtc.begin();
  rtc.adjust(DateTime(2025,12,5,16,12,0));
}
void loop() {
  DateTime now = rtc.now();
  Serial.println(now.timestamp());
  delay(1000);
}
```

| Parameter     | Hasil           | Status |
| ------------- | --------------- | ------ |
| Akurasi waktu | ±1 detik/24 jam | Akurat |

---

## 6. Pengujian Integrasi Sistem (Integrasi Input)

### 6.1 Tujuan Pengujian

Pengujian integrasi input bertujuan untuk memastikan seluruh **input sistem** (sensor dan push button) dapat dibaca secara bersamaan oleh mikrokontroler dan menghasilkan variabel logika yang benar sebelum diteruskan ke bagian output.

Input yang diuji meliputi:

* Sensor DHT11 (suhu & kelembapan)
* Sensor cahaya (LDR)
* Water sensor
* RTC DS3231
* Push button

---

### 6.2 Kode Pengujian Integrasi Input

Kode berikut digunakan untuk membaca seluruh input secara bersamaan dan menampilkannya melalui Serial Monitor. Kode ini **belum mengendalikan output**, sehingga fokus murni pada validasi input.

```cpp
#include <Wire.h>
#include <RTClib.h>
#include <DHT.h>

#define DHT_PIN 2
#define DHT_TYPE DHT11
#define WATER_PIN A0
#define LIGHT_PIN A1
#define BUTTON_PIN 3

RTC_DS3231 rtc;
DHT dht(DHT_PIN, DHT_TYPE);

void setup() {
  Serial.begin(9600);
  dht.begin();
  rtc.begin();
  pinMode(BUTTON_PIN, INPUT_PULLUP);
}

void loop() {
  float suhu = dht.readTemperature();
  float hum = dht.readHumidity();
  int waterVal = analogRead(WATER_PIN);
  int lightVal = analogRead(LIGHT_PIN);
  int lightPct = map(lightVal, 0, 1023, 0, 100);
  bool tombol = digitalRead(BUTTON_PIN) == LOW;

  DateTime now = rtc.now();

  Serial.println("===== DATA INPUT =====");
  Serial.print("Suhu        : "); Serial.print(suhu); Serial.println(" C");
  Serial.print("Kelembapan  : "); Serial.print(hum); Serial.println(" %");
  Serial.print("Water Sensor: "); Serial.println(waterVal);
  Serial.print("Cahaya      : "); Serial.print(lightPct); Serial.println(" %");
  Serial.print("Tombol      : "); Serial.println(tombol ? "DITEKAN" : "TIDAK");
  Serial.print("Waktu RTC   : "); Serial.print(now.hour()); Serial.print(":"); Serial.println(now.minute());
  Serial.println("=======================");

  delay(1000);
}
```

---

### 6.3 Langkah-Langkah Pengujian Integrasi Input

1. Mengunggah kode pengujian integrasi input ke mikrokontroler.
2. Membuka **Serial Monitor** dengan baud rate 9600.
3. Mengamati data suhu dan kelembapan dari sensor DHT11.
4. Mengubah kondisi cahaya (gelap/terang) dan mencatat perubahan nilai LDR.
5. Memberikan air pada water sensor dan mengamati perubahan nilai.
6. Menekan push button untuk memastikan status input terbaca dengan benar.
7. Membandingkan waktu yang ditampilkan RTC dengan waktu aktual.

---

### 6.4 Tabel Hasil Pengujian Integrasi Input

| No | Input        | Kondisi Uji       | Hasil Pembacaan          | Status     |
| -- | ------------ | ----------------- | ------------------------ | ---------- |
| 1  | DHT11        | Suhu ruang normal | 24–30°C                  | Sesuai     |
| 2  | DHT11        | Kelembapan tinggi | ≥85%                     | Terdeteksi |
| 3  | LDR          | Terang            | >50%                     | Sesuai     |
| 4  | LDR          | Gelap             | <10%                     | Sesuai     |
| 5  | Water Sensor | Kering            | <160                     | Terdeteksi |
| 6  | Water Sensor | Basah             | ≥160                     | Terdeteksi |
| 7  | Push Button  | Ditekan           | LOW                      | Sesuai     |
| 8  | RTC          | Sinkron waktu     | Sama dengan waktu aktual | Akurat     |

---

### 6.5 Pembahasan Hasil Integrasi Input

Berdasarkan hasil pengujian, seluruh input dapat dibaca secara bersamaan tanpa konflik pin maupun gangguan pembacaan. Data yang ditampilkan pada Serial Monitor menunjukkan bahwa setiap sensor memberikan respon sesuai dengan kondisi pengujian. Hal ini menandakan bahwa sistem telah siap untuk diintegrasikan dengan logika kontrol dan output.

## 7. Pengujian Respon Output

Pengujian respon output difokuskan sepenuhnya pada perangkat keluaran sistem tanpa melibatkan logika pengambilan keputusan dari sensor. Setiap output diuji secara mandiri menggunakan kode sederhana untuk memastikan perangkat bekerja dengan baik sebelum diintegrasikan ke sistem utama.

### 7.1 Tujuan Pengujian Output

1. Memastikan setiap perangkat output berfungsi secara fisik.
2. Memastikan sinyal dari mikrokontroler dapat diterima dengan baik oleh output.
3. Menghindari kesalahan hardware sebelum integrasi sistem.

---

### 7.2 Pengujian LED

**Tujuan:** Menguji LED sebagai indikator visual.

**Kode Pengujian LED:**

```cpp
int ledHijau = 6;
int ledMerah = 5;

void setup() {
  pinMode(ledHijau, OUTPUT);
  pinMode(ledMerah, OUTPUT);
}

void loop() {
  digitalWrite(ledHijau, HIGH);
  digitalWrite(ledMerah, LOW);
  delay(1000);

  digitalWrite(ledHijau, LOW);
  digitalWrite(ledMerah, HIGH);
  delay(1000);
}
```

**Hasil Pengujian LED:**

| Kondisi Uji      | LED Hijau | LED Merah | Status      |
| ---------------- | --------- | --------- | ----------- |
| Aktif bergantian | ON        | OFF / ON  | ✓ Berfungsi |

**Penjelasan:**
LED menyala dan mati secara bergantian sesuai perintah program, menandakan pin output berfungsi dengan baik.

---

### 7.3 Pengujian Servo Motor

**Tujuan:** Memastikan servo dapat bergerak sesuai sudut perintah.

**Kode Pengujian Servo:**

```cpp
#include <Servo.h>
Servo servoTest;

void setup() {
  servoTest.attach(9);
}

void loop() {
  servoTest.write(0);
  delay(2000);
  servoTest.write(140);
  delay(2000);
}
```

**Hasil Pengujian Servo:**

| Sudut Servo | Gerakan | Status     |
| ----------- | ------- | ---------- |
| 0°          | Menutup | ✓ Berhasil |
| 140°        | Membuka | ✓ Berhasil |

**Penjelasan:**
Servo bergerak sesuai sudut yang diperintahkan tanpa gangguan, menandakan kontrol PWM berjalan normal.

---

### 7.4 Pengujian Buzzer

**Tujuan:** Menguji buzzer sebagai alarm suara.

**Kode Pengujian Buzzer:**

```cpp
#define BUZZER 4

void setup() {
  pinMode(BUZZER, OUTPUT);
}

void loop() {
  digitalWrite(BUZZER, HIGH);
  delay(200);
  digitalWrite(BUZZER, LOW);
  delay(200);
  digitalWrite(BUZZER, HIGH);
  delay(200);
  digitalWrite(BUZZER, LOW);
  delay(2000);
}
```

**Hasil Pengujian Buzzer:**

| Kondisi | Respon       | Status     |
| ------- | ------------ | ---------- |
| Aktif   | Bunyi 2 kali | ✓ Berhasil |

**Penjelasan:**
Buzzer mengeluarkan suara sebanyak dua kali sesuai dengan program, menandakan output audio bekerja normal.

---

### 7.5 Pengujian LCD

**Tujuan:** Menguji kemampuan LCD menampilkan teks.

**Kode Pengujian LCD:**

```cpp
#include <Wire.h>
#include <LiquidCrystal_I2C.h>

LiquidCrystal_I2C lcd(0x27, 16, 2);

void setup() {
  lcd.init();
  lcd.backlight();
  lcd.setCursor(0,0);
  lcd.print("LCD TEST OK");
  lcd.setCursor(0,1);
  lcd.print("OUTPUT NORMAL");
}

void loop() {
}
```

**Hasil Pengujian LCD:**

| Baris | Tampilan      | Status     |
| ----- | ------------- | ---------- |
| 1     | LCD TEST OK   | ✓ Berhasil |
| 2     | OUTPUT NORMAL | ✓ Berhasil |

**Penjelasan:**
LCD berhasil menampilkan karakter pada kedua baris dengan jelas, menandakan komunikasi I2C berjalan normal.

---

